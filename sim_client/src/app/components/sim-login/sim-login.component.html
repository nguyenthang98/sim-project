<div class="container" style="margin-top: 50px">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<div class="panel panel-login">
				<div class="panel-heading">
					<div class="row">
						<div class="col-xs-6">
							<a [ngClass]="{'active': !currentSession || currentSession == 1}" (click)="changeCurrentSession(1)" id="login-form-link">Login</a>
						</div>
						<div class="col-xs-6">
							<a [ngClass]="{'active': currentSession == 2}" (click)="changeCurrentSession(2)" id="register-form-link">Register</a>
						</div>
					</div>
					<hr>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							<form id="login-form" *ngIf="!currentSession || currentSession == 1" [formGroup]="loginForm" style="display: block;">
								<label class="alert alert-danger" style="padding: 5px;" *ngIf="!isLogin">Username or Password is incorrect</label>
								<div class="form-group" [ngClass]="{'has-error': loginForm.get('username').touched && loginForm.get('username').invalid}">
									<input type="text" name="username" tabindex="1" class="form-control" formControlName="username" placeholder="Username">
									<label class="control-label" *ngIf="loginForm.get('username').touched && loginForm.get('username').invalid">
										Username is required!	
									</label>
								</div>
								<div class="form-group" [ngClass]="{'has-error': loginForm.get('password').touched && loginForm.get('password').invalid}">
									<input type="password" name="password" tabindex="2" class="form-control" formControlName='password' placeholder="Password">
									<label class="control-label" *ngIf="loginForm.get('password').touched && loginForm.get('password').invalid">
										Password is required!	
									</label>
								</div>
								<div class="form-group text-center">
									<input type="checkbox" tabindex="3" class="" name="remember" [checked]="rememberAuth" (change)='rememberAuth = !rememberAuth'>
									<label for="remember"> Remember Me</label>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-6 col-sm-offset-3">
											<input type="submit" name="login-submit" tabindex="4" [disabled]="!loginForm.valid" class="form-control btn btn-login" value="Log In" (click)="onLoginButtonClicked()">
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-lg-12">
											<div class="text-center">
												<a href="https://phpoll.com/recover" tabindex="5" class="forgot-password">Forgot Password?</a>
											</div>
										</div>
									</div>
								</div>
							</form>
							<form id="register-form" *ngIf="currentSession == 2" role="form" style="display: block;" [formGroup]="registerForm">
								<div class="form-group" [ngClass]="{'has-error': registerForm.get('username').touched && registerForm.get('username').invalid}">
									<label class="alert alert-danger" style="padding: 5px;" *ngIf="isRegister === 'user'">Username is existed</label>
									<label class="alert alert-danger" style="padding: 5px;" *ngIf="isRegister === 'email'">Email is existed</label>
									<input type="text" name="username" tabindex="1" class="form-control" placeholder="Username" formControlName="username">
									<label class="control-label" *ngIf="registerForm.get('username').touched && registerForm.get('username').invalid">
										Username is required!	
									</label>
								</div>
								<div class="form-group" [ngClass]="{'has-error': registerForm.get('email').touched && registerForm.get('email').invalid}">
									<input type="email" name="email" tabindex="1" class="form-control" formControlName="email" placeholder="Email Address">
									<div *ngIf="registerForm.get('email').touched && registerForm.get('email').invalid">
										<label class="control-label" *ngIf="registerForm.get('email').errors.required">
											Email is required!	
										</label>
										<label class="control-label" *ngIf="registerForm.get('email').errors.email">
											Email is not true!	
										</label>
									</div>
								</div>
								<div class="form-group" [ngClass]="{'has-error': registerForm.get('password').touched && registerForm.get('password').invalid}">
									<input type="password" name="password" tabindex="2" class="form-control" formControlName="password" placeholder="Password">
									<div *ngIf="registerForm.get('password').touched && registerForm.get('password').invalid">
										<label class="control-label" *ngIf="registerForm.get('password').errors.required">
											Password is required!	
										</label>
										<label class="control-label" *ngIf="registerForm.get('password').errors.minlength">
											Password must be at least 6 characters!	
										</label>
									</div>
								</div>
								<div class="form-group" [ngClass]="{'has-error': (registerForm.get('passwordConfirm').touched && registerForm.get('passwordConfirm').invalid) || !checkValidPass}">
									<input type="password" name="confirm-password" tabindex="2" class="form-control" placeholder="Confirm Password" formControlName="passwordConfirm" (click)="checkValidPass = true">
									<label class="control-label" *ngIf="registerForm.get('passwordConfirm').touched && registerForm.get('passwordConfirm').invalid">
										Password Confirm is required!	
									</label>

									<label class="control-label" *ngIf="registerForm.get('passwordConfirm').touched && !checkValidPass">
										Password Confirm is incorrect!	
									</label>
								</div>
								<div class="form-group">
									<div class="row">
										<div class="col-sm-6 col-sm-offset-3">
											<input type="submit" name="register-submit" tabindex="4" class="form-control btn btn-register" value="Register Now" [disabled]="!registerForm.valid" (click)="onRegisterButtonClicked()">
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
